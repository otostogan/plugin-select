{"version":3,"sources":["select/select.js","index.js"],"names":["getTemplate","data","placeholder","selectedId","text","items","map","item","cls","id","value","join","Select","selector","options","$el","document","querySelector","find","classList","contains","event","type","target","dataset","toggle","select","close","$value","textContent","current","querySelectorAll","forEach","remove","add","onSelect","isOpen","open","$arrow","removeEventListener","clickhandler","innerHTML","bind","addEventListener","console","log","window","s"],"mappings":"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","file":"plugin-select.655738b2.js","sourceRoot":"..","sourcesContent":["const getTemplate = (data = [], placeholder, selectedId)=>{\r\n    let text = placeholder ?? 'Placeholder по умолчанию';\r\n    \r\n    const items = data.map(item=> {\r\n\r\n        let cls = ''\r\n\r\n        if(item.id === selectedId){\r\n            text = item.value;\r\n            cls = 'selected'\r\n        }\r\n        return `\r\n            <li class=\"select__item ${cls}\" data-type=\"item\" data-id=\"${item.id}\">${item.value}</li>\r\n        `\r\n    })\r\n\r\n    return `\r\n        <div class=\"select__backdrop\" data-type=\"backdrop\"></div>\r\n        <div class=\"select__input\" data-type=\"input\">\r\n            <span data-type=\"value\">${text}</span>\r\n            <i class=\"fa fa-chevron-down\" data-type=\"arrow\"></i>\r\n        </div>\r\n        <div class=\"select__dropdown\">\r\n            <ul class=\"select__list\">\r\n                ${items.join('')}\r\n            </ul>\r\n        </div>\r\n    `\r\n}\r\n\r\nexport default class Select{\r\n    constructor(selector, options) {\r\n        this.$el = document.querySelector(selector);\r\n\r\n        this.options = options;\r\n\r\n        this.selectedId = options.selectedId;\r\n\r\n        this.#render();\r\n        this.#setup();\r\n    }\r\n    #render(){\r\n        const {placeholder, data} = this.options;\r\n        this.$el.classList.add('select');\r\n        this.$el.innerHTML = getTemplate(data, placeholder, this.selectedId);\r\n    }\r\n    #setup(){\r\n        this.clickhandler = this.clickhandler.bind(this);\r\n        this.$el.addEventListener('click', this.clickhandler);\r\n        this.$arrow = this.$el.querySelector('[data-type=\"arrow\"]');\r\n        this.$value = this.$el.querySelector('[data-type=\"value\"]');\r\n    }\r\n    get current(){\r\n        return this.options.data.find(item => item.id === this.selectedId);\r\n    }\r\n    get isOpen(){\r\n        return this.$el.classList.contains('open');\r\n    }\r\n    clickhandler(event) {\r\n        const {type} = event.target.dataset;\r\n        if(type === 'input'){\r\n            this.toggle();\r\n        }else if(type === 'item'){\r\n            const {id} = event.target.dataset;\r\n            this.select(id);\r\n        }else if(type === 'backdrop'){\r\n            this.close();\r\n        }\r\n    }\r\n    select(id){\r\n        this.selectedId = id;\r\n        this.$value.textContent = this.current.value;\r\n\r\n        this.$el.querySelectorAll('[data-type=\"item\"]').forEach(item =>{\r\n            item.classList.remove('selected');\r\n        })\r\n        this.$el.querySelector(`[data-id=\"${id}\"]`).classList.add('selected');\r\n\r\n        this.options.onSelect ? this.options.onSelect(this.current) : null;\r\n\r\n        this.close();\r\n    }\r\n    toggle() {\r\n        this.isOpen ? this.close() : this.open();\r\n    }\r\n    open(){\r\n        this.$el.classList.add('open');\r\n        this.$arrow.classList.remove(\"fa-chevron-down\");\r\n        this.$arrow.classList.add(\"fa-chevron-up\");\r\n    }\r\n    close(){\r\n        this.$el.classList.remove('open');\r\n        this.$arrow.classList.add(\"fa-chevron-down\");\r\n        this.$arrow.classList.remove(\"fa-chevron-up\");\r\n    }\r\n\r\n    destroy(){\r\n        this.$el.removeEventListener('click', this.clickhandler); \r\n        this.$el.innerHTML = '';\r\n    }\r\n}","import './select/style.scss';\r\nimport Select from './select/select';\r\n\r\n\r\nconst select = new Select('#select', {\r\n    placeholder: 'Выбери пожалуйста элемент',\r\n    data: [\r\n        {id: '1', value: 'React'},\r\n        {id: '2', value: 'Angular'},\r\n        {id: '3', value: 'Vue'},\r\n        {id: '4', value: 'React Native'},\r\n        {id: '5', value: 'Next'},\r\n        {id: '6', value: 'Nest'}\r\n    ],\r\n    // selectedId: '6', \r\n    onSelect(item){\r\n        console.log(item);\r\n    }\r\n});\r\n\r\nwindow.s = select;"]}