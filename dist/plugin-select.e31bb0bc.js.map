{"version":3,"sources":["select/select.js","index.js","../../../../../../../AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../../../../../../AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["getTemplate","data","placeholder","selectedId","text","items","map","item","cls","id","value","join","Select","selector","options","$el","document","querySelector","find","classList","contains","event","type","target","dataset","toggle","select","close","$value","textContent","current","querySelectorAll","forEach","remove","add","onSelect","isOpen","open","$arrow","removeEventListener","clickhandler","innerHTML","bind","addEventListener","console","log","window","s","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","i","length","module"],"mappings":"AEAA,ACAA,IDAIgD,ACAAY,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,AFFA,SCCSZ,ACCAa,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAC,CDDChB,MCCM,GDDX,ACCce,EDDE,ECCE,CAACE,SAAL,EAAd;ADAEjB,ADFJ,ICEIA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADc,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,IAAAA,IAAI,CAAC9B,MAAL;ADCF,ACAC,GAFD,MDEOe,SAAP;AACD,ADHD,IAAMtB,MAAM,GAAG,IAAId,eAAJ,CAAW,SAAX,EAAsB;AEGnCoD,AFFE9D,EEEF8D,AFFE9D,OEEK,CAACiE,GFFK,CEEb,CFFe,EEEAJ,IAAI,CAACI,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,GFHoB,CEGM,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C;ADEF,ACDEP,AFFE9D,EEEF8D,AFFE9D,IEEE,AFFE,CEEDsE,CFFG,CCGDrB,ADFD,QECN,CAAgBsB,GDClB,GAAwB,MCDtB,CAA6BR,OAA7B,EAAsCD,IAAI,CAACU,WAA3C;ADEA,ACDD,AFFQhE,IAAAA,EAAE,EAAE,GAAL;ACIN,ADJgBC,IAAAA,ECIZ,GDJiB,EAAE;ACKrB,ACDJ,AFJQ,GADE,CEKNgE,CFHI,KCIE,IAAIvB,ACDA,GAAG,EDCP,EAAN,ACDJ;ADEG,ADLM1C,GCGP,CAEE,ADLKA,EAAE,EAAE,GCKF2C,ADLH,GCKJ,EAAY;AACZ,ACFJ,AFJkB1C,IAAAA,ICMV2C,CCFCsB,AFJc,EAAE,ICMV,GAAG,ACFlB,CDEmB,ECFE,GDEGvB,GAAG,CAACE,KAAV,EAAiBC,KAAjB,CAAuB,+DAAvB,CAAd;ACDF,AFLM,GAFE,EAGF,CEIFmB,UAAJ,EAAgB;ADEd,ACDA,AFLKjE,IAAAA,EAAE,ECMH4C,ADNK,GAAL,ICMJ,EAAa;AACX,ACDH,AFNe3C,IAAAA,KAAK,EAAE,ECOZ8C,UAAU,CAACH,OAAO,CAAC,CAAD,CAAR,CAAjB;AACD,ADRG,ADTR,GCMU,CDNJrD,CCUE,UDVS,GAAG,SAAdA,WAAc,GAAsC;AEkBvD,ACDD0E,AFPOjE,ADViD,EGiBxDiE,EFPOjE,EAAE,ADVUR,ECUR,EDV6C,CCUlD,CEOI,GAAG2E,UAAU,CAAC,YAAY,2CHjBV,EAA8B;AGkBtD,AFRclE,ADVwC,ICUxCA,EDVcR,EGkBxB2E,CFRe,EAAE,EEQZ,GAAG7D,CHlB0C,OGkBlC,CAACe,gBAAT,CAA0B,wBAA1B,CAAZ;ADEF,ADVM,ADVkD,GCMhD,EAKF,CDXqC5B,GEoBpC,GAAP,IFpBwD;AEqBzD,ACFG,AFRKM,ADVL,ICUKA,EAAE,ADVHL,ECUK,CEQJ,CHlBG,CCUJ,EEQK0E,AHlBE5E,CGkBD,GAAG,CAAb,EAAgB4E,CAAC,GAAGD,AHlBZ,KGkBiB,CAACE,MAA1B,CHlBW7E,CGkBuB4E,CAAC,EAAnC,EAAuC,KHlB/B,cAAG5E,WAAH,GAAkB,0BAA1B;AGmBE,AFTYQ,ADRd,ICQcA,EDRRL,GCQa,CESbuD,CFTe,ADRV,GAAG3D,EGiBF,CAACuD,CHjBK,CAAClD,GAAL,CAAS,IGiBjB,CAAkBuE,KAAK,AHjBNtE,CGiBOuE,CAAD,CAAL,CAASX,AHjBN,EAAG,EGiBxB,MAAqCP,MAAM,CAACV,YAAP,EAAzC,EAAgE;ADGtE,ACFQY,AFVA,ADNA,GCCE,EAMF,GESAA,AHhBItD,CEkBHgD,EFlBM,GAAG,EAAV,EGgBU,CDElB,ACFmBqB,CDECpB,GAApB,CCFwB,CDEC,ACFAqB,CAAD,CAAN,CAAV;ADGN,ACFK,AFVErE,IAAAA,EAAE,EAAE,CCYJ,CAAC,CDZF,ICYOgD,GAAN,EAAWC,OAAX,CAAmB,gFAAnB,EAAqG,IAArG,IAA6G,GAApH;AACD,ACFI,AFXahD,ADLV,ICKUA,IDLPH,CCKY,EAAE,CDLV,CAACE,EAAL,KAAYN,UAAf,EAA0B;ACK1B,ADJIC,GCFF,CAF2B,EDIzBA,IAAI,GAAGG,IAAI,CAACG,KAAZ;AEmBZiD,ACFIe,AFXA,ADLQlE,IGgBRkE,EHhBQlE,CEkBL,CAAC0C,CFlBO,GAAG,EGgBJ,GAAG,GDEjB,CCFI,CHhBQ,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","file":"plugin-select.e31bb0bc.js","sourceRoot":"..","sourcesContent":["const getTemplate = (data = [], placeholder, selectedId)=>{\r\n    let text = placeholder ?? 'Placeholder по умолчанию';\r\n    \r\n    const items = data.map(item=> {\r\n\r\n        let cls = ''\r\n\r\n        if(item.id === selectedId){\r\n            text = item.value;\r\n            cls = 'selected'\r\n        }\r\n        return `\r\n            <li class=\"select__item ${cls}\" data-type=\"item\" data-id=\"${item.id}\">${item.value}</li>\r\n        `\r\n    })\r\n\r\n    return `\r\n        <div class=\"select__backdrop\" data-type=\"backdrop\"></div>\r\n        <div class=\"select__input\" data-type=\"input\">\r\n            <span data-type=\"value\">${text}</span>\r\n            <i class=\"fa fa-chevron-down\" data-type=\"arrow\"></i>\r\n        </div>\r\n        <div class=\"select__dropdown\">\r\n            <ul class=\"select__list\">\r\n                ${items.join('')}\r\n            </ul>\r\n        </div>\r\n    `\r\n}\r\n\r\nexport default class Select{\r\n    constructor(selector, options) {\r\n        this.$el = document.querySelector(selector);\r\n\r\n        this.options = options;\r\n\r\n        this.selectedId = options.selectedId;\r\n\r\n        this.#render();\r\n        this.#setup();\r\n    }\r\n    #render(){\r\n        const {placeholder, data} = this.options;\r\n        this.$el.classList.add('select');\r\n        this.$el.innerHTML = getTemplate(data, placeholder, this.selectedId);\r\n    }\r\n    #setup(){\r\n        this.clickhandler = this.clickhandler.bind(this);\r\n        this.$el.addEventListener('click', this.clickhandler);\r\n        this.$arrow = this.$el.querySelector('[data-type=\"arrow\"]');\r\n        this.$value = this.$el.querySelector('[data-type=\"value\"]');\r\n    }\r\n    get current(){\r\n        return this.options.data.find(item => item.id === this.selectedId);\r\n    }\r\n    get isOpen(){\r\n        return this.$el.classList.contains('open');\r\n    }\r\n    clickhandler(event) {\r\n        const {type} = event.target.dataset;\r\n        if(type === 'input'){\r\n            this.toggle();\r\n        }else if(type === 'item'){\r\n            const {id} = event.target.dataset;\r\n            this.select(id);\r\n        }else if(type === 'backdrop'){\r\n            this.close();\r\n        }\r\n    }\r\n    select(id){\r\n        this.selectedId = id;\r\n        this.$value.textContent = this.current.value;\r\n\r\n        this.$el.querySelectorAll('[data-type=\"item\"]').forEach(item =>{\r\n            item.classList.remove('selected');\r\n        })\r\n        this.$el.querySelector(`[data-id=\"${id}\"]`).classList.add('selected');\r\n\r\n        this.options.onSelect ? this.options.onSelect(this.current) : null;\r\n\r\n        this.close();\r\n    }\r\n    toggle() {\r\n        this.isOpen ? this.close() : this.open();\r\n    }\r\n    open(){\r\n        this.$el.classList.add('open');\r\n        this.$arrow.classList.remove(\"fa-chevron-down\");\r\n        this.$arrow.classList.add(\"fa-chevron-up\");\r\n    }\r\n    close(){\r\n        this.$el.classList.remove('open');\r\n        this.$arrow.classList.add(\"fa-chevron-down\");\r\n        this.$arrow.classList.remove(\"fa-chevron-up\");\r\n    }\r\n\r\n    destroy(){\r\n        this.$el.removeEventListener('click', this.clickhandler); \r\n        this.$el.innerHTML = '';\r\n    }\r\n}","import './select/style.scss';\r\nimport Select from './select/select';\r\n\r\n\r\nconst select = new Select('#select', {\r\n    placeholder: 'Выбери пожалуйста элемент',\r\n    data: [\r\n        {id: '1', value: 'React'},\r\n        {id: '2', value: 'Angular'},\r\n        {id: '3', value: 'Vue'},\r\n        {id: '4', value: 'React Native'},\r\n        {id: '5', value: 'Next'},\r\n        {id: '6', value: 'Nest'}\r\n    ],\r\n    // selectedId: '6', \r\n    onSelect(item){\r\n        console.log(item);\r\n    }\r\n});\r\n\r\nwindow.s = select;","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}